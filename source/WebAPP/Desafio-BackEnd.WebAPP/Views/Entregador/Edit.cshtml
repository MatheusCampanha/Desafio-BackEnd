@using Desafio_BackEnd.WebAPP.Models.Entregador
@model EditViewModel

@{
    ViewData["Title"] = "Editar CNH";
}

<h1>Editar CNH</h1>

<div class="form-group">
    <label for="Nome">Nome</label>
    <input type="text" id="Nome" name="Nome" class="form-control" />
</div>

<div class="container">
    @if (string.IsNullOrEmpty(Model.CaminhoImagem))
    {
        <img src="" alt="Imagem" style="max-width: 100%; max-height: 100%;" />
    }
    else 
    {
        <img src="@Url.Content(Model.CaminhoImagem)" alt="Imagem" style="max-width: 100%; max-height: 100%;" />
    }
</div>

<div class="form-group">
    <label for="ImagemUrl">Imagem</label>
    <input type="file" id="ImagemUrl" name="ImagemUrl" class="form-control-file" />
</div>

<button type="button" id="btnSalvar" class="btn btn-primary">Salvar</button>

@section scripts {
    <script>
        $(document).ready(function () {
            // $('#btnSalvar').click(function () {
            //     var fileInput = $('#ImagemUrl')[0].files[0];
            //     var formData = new FormData();

            //     formData.append('Nome', $('#Nome').val());
            //     formData.append('Cnpj', $('#Cnpj').val());
            //     formData.append('DataNascimento', $('#DataNascimento').val());
            //     formData.append('NumeroCNH', $('#NumeroCnh').val());
            //     formData.append('TipoCNH', $('#TipoCnh').val());
            //     formData.append('ImagemCNH', fileInput);

            //     $.ajax({
            //         url: '@Url.Action("Create", "Entregador")',
            //         type: 'POST',
            //         data: formData,
            //         processData: false,
            //         contentType: false,
            //         success: function (result) {
            //             // Lidar com a resposta bem-sucedida
            //             console.log("Entregador cadastrado com sucesso!");
            //             window.location.href = '@Url.Action("Index", "Home")'; // Redirecionar para a página inicial
            //         },
            //         error: function (xhr, status, error) {
            //             // Lidar com erros na solicitação
            //             console.error('Erro ao cadastrar o entregador:', error);
            //         }
            //     });
            // });
        });
    </script>
}
